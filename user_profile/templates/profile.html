{% extends "base.html" %}
{% load static %}
{% block meta %}
    <title>Profil</title>
{% endblock meta %}
{% block content %}
<div class="flex items-center justify-center min-h-screen" style="background-color: #F4FEFF;">
    <div class="container mx-auto max-w-4xl mt-20">
        <h1 class="text-center text-3xl font-bold mb-10">Halo, {{user.user.username}}!</h1>

        <div class="grid grid-cols-2 gap-6">
            <div class="max-w-sm rounded overflow-hidden shadow-lg">
                <div class="px-6 py-4">
                  <div class="font-bold text-xl mb-2">{{user.nama}}</div>
                  <div class="mb-2">

                    <label>Peran</label>
                    <input type="text" value={{user.peran}} readonly class="border-none bg-gray-200 py-1 px-3 rounded-full text-sm text-gray-700 mb-2 block w-full">
                    

                    <label>Domisili</label>
                    <input type="text" value={{user.domisili}} readonly class="border-none bg-gray-200 py-1 px-3 rounded-full text-sm text-gray-700 mb-2 block w-full">
                    
                    <label>Agama</label>
                    <input type="text" value={{user.agama}} readonly class="border-none bg-gray-200 py-1 px-3 rounded-full text-sm text-gray-700 mb-2 block w-full">

                    {% if user.umur %}
                        <label>Umur</label>
                        <input type="text" value="{{ user.umur }} tahun" readonly class="border-none bg-gray-200 py-1 px-3 rounded-full text-sm text-gray-700 mb-2 block w-full">
                    {% endif %}

                    {% if user.golongan_darah %}
                        <label>Golongan Darah</label>
                        <input type="text" value="{{ user.golongan_darah }}" readonly class="border-none bg-gray-200 py-1 px-3 rounded-full text-sm text-gray-700 mb-2 block w-full">
                    {% endif %}

                    {% if user.kondisi_ibu %}
                        <label>Kondisi Ibu</label>
                        <input type="text" value="{{ user.kondisi_ibu }}" readonly class="border-none bg-gray-200 py-1 px-3 rounded-full text-sm text-gray-700 mb-2 block w-full">
                    {% endif %}
                    {% if user.umur_kehamilan %}
                        <label>Umur Kehamilan</label>
                        <input type="text" value="{{ user.umur_kehamilan }} minggu" readonly class="border-none bg-gray-200 py-1 px-3 rounded-full text-sm text-gray-700 mb-2 block w-full">
                    {% endif %}
                    {% if user.umur_bayi %}
                        <label>Umur Bayi</label>
                        <input type="text" value="{{ user.umur_bayi }} minggu" readonly class="border-none bg-gray-200 py-1 px-3 rounded-full text-sm text-gray-700 mb-2 block w-full">
                    {% endif %}
                    {% if user.jenis_kelamin %}
                        <label>Jenis Kelamin Bayi</label>
                        <input type="text" value="{{ user.jenis_kelamin }}" readonly class="border-none bg-gray-200 py-1 px-3 rounded-full text-sm text-gray-700 mb-2 block w-full">
                    {% endif %}
                  </div>
                </div>
              </div>

              <div class="max-w-sm rounded overflow-hidden shadow-lg">
                <div class="px-6 py-4">
                  <div class="font-bold text-xl mb-2 text-center">Riwayat Donor dan Butuh ASI</div>
                  <div class="grid grid-cols-1 gap-4">
                    {% for donor in history %}
                        <div class="relative bg-white p-6 rounded-lg shadow-md">
                            {% if donor.tag == 'butuh' %}
                                <h3 class="text-lg font-bold text-pink-500 mb-2">BUTUH ASI</h3>
                            {% elif donor.tag == 'donor' %}
                                <h3 class="text-lg font-bold text-blue-500 mb-2">DONOR ASI</h3>
                            {% endif %}
                            <p class="text-sm text-gray-600">{{ donor.timestamp }}</p>
                        </div>
                    {% endfor %}
                </div>
                
                </div>
              </div>
        </div>
    </div>
</div>  
<script>
    $(document).ready(function() {
        $('#tag').change(function() {
            $.ajax({
                url: $('#filter-form').attr('action'),
                data: $('#filter-form').serialize(),
                success: function(data) {
                    $('#donor-cards').html(data.html);
                }
            });
        });
    });
</script>
{% endblock content %}                